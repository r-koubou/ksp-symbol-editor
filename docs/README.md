KSP Symbol Editor Specification
===============================

## このファイルの概要

このファイルには、KSP Symbol Editor の仕様と注意点が記載されている。

## KSP とは

Native Instruments 社が開発した、音楽制作ソフトウェア「KONTAKT」のスクリプト言語である。

## 目的

このプロジェクトの目的はシンボルデータの編集を行うためのツールを提供することにある。
現在シンボルデータはYAMLファイル形式で管理しているが、直接テキストエディタで編集するのは手間がかかるため、GUIベースの編集ツールを作成することにした。

## シンボルの種類

KSP Symbol Editor では、以下の種類のシンボルを扱う。

- **variable**: 変数を表すシンボル
- **command**: KSPが提供するコマンドを表すシンボル。プログラミング言語言語でいうところの関数に相当する。
- **callable**: KSPが提供するコールバックを表すシンボル
- **ui-type**: KSPが提供するUI要素を表すシンボル


## フォルダ階層

```
├── apps                                    # 成果物のエディタを配置するディレクトリ
└── docs
    ├── contexts
    │   ├── archives                        # 過去分のセッションのコンテキストのアーカイブ(YYYY-MM-DD.md 形式で保存。AI側からの参照は不要)
    │   │   └── YYYY-MM-DD.md
    │   └── progress.md                     # 現在のセッションのコンテキスト
    ├── README.md                           # このファイル
    ├── specs                               # 仕様・制約に関するドキュメント
    └── tasks                               # タスクに関するドキュメント
        ├── current.md                      # 現在のタスク作業内容
        └── logs                            # タスク作業のログ
            └── YYYY-MM-DD.md               # 過去分のタスク作業のログ
```

各ディレクトリ直下にREADME.mdが存在する場合は、必ず読み取り、内容を理解すること。


## 注意点

### 日時を記入する場合のルール

日本標準時間（JST）の記入時の日付、時刻を使用すること。

## 作業フロー

### セッション開始前（人間側の作業）

新しいセッションを開始する前に、人間側で `docs/tasks/current.md` を次のタスク内容に更新しておくこと。

### セッション中（AI側の作業）

1. 作業を行う
2. 作業結果内容の確認依頼をする
    - 動作確認を行い問題がなければ「動作確認完了」を伝えること
    - 問題がある場合は問題の内容を伝えること
3. 確認完了後、tasks/logs/YYYY-MM-DD.md に作業ログを記入する
4. contexts/progress.md を更新する前にアーカイブ条件を確認する
   - 条件を満たす場合：現在の contexts/progress.md を contexts/archives/YYYY-MM-DD.md として保存してから更新
   - 条件を満たさない場合：そのまま更新
5. git のコミットを行ってよいかを確認をする
    - コミット対象は人間側でステージングしておく。もし、ステージングされていないファイルがある場合は、コミット前にステージングするよう伝えること
    - コミットを行う前に実行予定の git commit コマンドの内容を人間側に提示し、了承を得ること
      ```
      git commit -m "＜作業内容の概要＞" -m "＜作業内容の詳細＞" --author="＜エージェンティックAI名＞ <＜エージェンティックAI名＞@example.com>"
      ```
    - コミットの許可が出たら実際にコミットを行うこと
